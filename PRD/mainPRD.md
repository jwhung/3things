# 3Things - 浏览器启动页插件产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
3Things 是一款浏览器启动页插件,核心理念是"每天只需要关注三件最重要的事情"。通过限制用户每天只能添加三个待办事项,帮助用户聚焦真正重要的任务,避免因任务过多而产生的焦虑和拖延。

### 1.2 目标用户
- 容易被繁杂任务清单压垮的职场人士
- 希望提升工作效率、培养优先级意识的人群
- 极简主义者
- 需要每日任务管理的个人用户

### 1.3 核心价值
- **强制聚焦**: 限制每天最多3个待办事项,迫使用户思考优先级
- **简单直观**: 启动页即工作区,打开浏览器即可看到今日任务
- **零压力**: 完成任务后的清空感,而非无限任务列表的压力感
- **每日重置**: 每天新的开始,鼓励用户每天只关注最重要的三件事

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 浏览器启动页覆盖
- **功能描述**: 安装插件后,将浏览器新标签页替换为 3Things 的待办事项页面
- **技术要求**:
  - Chrome Extension Manifest V3
  - 使用 `chrome_url_overrides` 配置覆盖新标签页
- **优先级**: P0 (必须实现)

#### 2.1.2 待办事项添加
- **功能描述**: 用户可以添加待办事项
- **限制条件**:
  - 每天最多添加 3 个待办事项
  - 达到上限后,添加按钮置灰或隐藏
  - 提示用户"今日已完成三件事的规划"
- **输入要求**:
  - 支持文本输入
  - 字符限制: 1-200 字符
  - 支持中英文
- **优先级**: P0 (必须实现)

#### 2.1.3 待办事项完成
- **功能描述**: 用户可以标记任务为完成状态
- **交互方式**:
  - 点击任务前的复选框
  - 完成后任务文字添加删除线
  - 任务变灰或半透明
- **数据状态**:
  - 记录任务完成状态
  - 记录任务完成时间
- **优先级**: P0 (必须实现)

#### 2.1.4 待办事项删除
- **功能描述**: 用户可以删除已添加的任务
- **交互方式**:
  - 任务卡片上显示删除图标
  - 点击后弹出确认提示(可选)
  - 删除后释放配额,可添加新任务
- **优先级**: P0 (必须实现)

#### 2.1.5 待办事项编辑
- **功能描述**: 用户可以修改已添加但未完成的任务内容
- **交互方式**:
  - 双击任务文字进入编辑模式
  - 或点击编辑图标
  - 保存后更新任务内容
- **优先级**: P1 (重要功能)

### 2.2 辅助功能

#### 2.2.1 日期管理
- **功能描述**: 按自然日管理待办事项
- **规则**:
  - 每天凌晨 0 点重置配额
  - 保留历史记录(可查看过去/未来的任务)
  - 显示当前日期
- **优先级**: P0 (必须实现)

#### 2.2.2 历史记录查看
- **功能描述**: 用户可以查看历史任务记录
- **交互方式**:
  - 提供日期选择器或左右箭头切换日期
  - 显示选中日期的任务完成情况
  - 历史记录只读,不可编辑
- **数据展示**:
  - 完成数量/总数量
  - 完成率百分比
- **优先级**: P1 (重要功能)

#### 2.2.3 数据持久化
- **功能描述**: 使用 LocalStorage 保存用户数据
- **存储内容**:
  - 待办事项列表
  - 任务状态(已完成/未完成)
  - 任务创建时间
  - 任务完成时间
- **优先级**: P0 (必须实现)

#### 2.2.4 数据导出/导入
- **功能描述**: 支持数据备份和恢复
- **格式**: JSON 文件
- **使用场景**:
  - 更换浏览器/电脑时数据迁移
  - 数据备份
- **优先级**: P2 (锦上添花)

### 2.3 用户体验功能

#### 2.3.1 进度展示
- **功能描述**: 可视化展示今日任务完成进度
- **展示方式**:
  - 进度条或环形图
  - 文字提示: "今日已完成 X/3"
- **优先级**: P1 (重要功能)

#### 2.3.2 激励反馈
- **功能描述**: 完成任务时给予正面反馈
- **表现形式**:
  - 完成动画(如打勾动画、彩带效果)
  - 鼓励语提示(如"太棒了!又完成一件重要的事!")
  - 全部完成后的特殊庆祝效果
- **优先级**: P1 (重要功能)

#### 2.3.3 时间显示
- **功能描述**: 在页面上显示当前时间
- **样式**: 大字体时钟显示
- **优先级**: P2 (锦上添花)

#### 2.3.4 问候语
- **功能描述**: 根据时间段显示不同问候语
- **规则**:
  - 5:00-11:59: "早上好"
  - 12:00-17:59: "下午好"
  - 18:00-4:59: "晚上好"
- **优先级**: P2 (锦上添花)

#### 2.3.5 背景自定义
- **功能描述**: 允许用户自定义背景
- **选项**:
  - 纯色背景(提供预设配色)
  - 渐变背景
  - 自定义图片(可选,后续版本)
- **优先级**: P2 (锦上添花)

### 2.4 设置功能

#### 2.4.1 基础设置
- **功能描述**: 提供简单的设置面板
- **设置项**:
  - 主题切换(浅色/深色)
  - 背景设置
  - 数据管理(清除数据、导出/导入)
- **优先级**: P1 (重要功能)

#### 2.4.2 提醒开关
- **功能描述**: 控制是否显示各种提示和动画
- **选项**:
  - 开启/关闭完成动画
  - 开启/关闭鼓励语
- **优先级**: P2 (锦上添花)

## 3. 非功能需求

### 3.1 性能要求
- 页面加载时间 < 500ms
- 交互响应时间 < 100ms
- 内存占用 < 50MB
- LocalStorage 容量控制在 5MB 以内

### 3.2 兼容性要求
- **浏览器支持**:
  - Chrome 88+
  - Edge 88+
  - Firefox (后续考虑)
- **操作系统**:
  - Windows 10+
  - macOS 10.15+
  - Linux (主流发行版)

### 3.3 安全性要求
- 所有用户数据仅存储在本地,不上传到服务器
- 不收集任何用户隐私信息
- 遵循浏览器扩展安全最佳实践
- CSP (Content Security Policy) 配置

### 3.4 可访问性要求
- 支持键盘导航(Tab、Enter、Space、Esc)
- 支持屏幕阅读器
- 颜色对比度符合 WCAG 2.1 AA 标准
- 字体大小可调节

## 4. UI/UX 设计要求

### 4.1 设计风格
- **整体风格**: 极简、现代、清爽
- **色彩方案**:
  - 主色: 柔和的蓝色/绿色系
  - 背景: 浅色/白色(浅色模式)、深灰(深色模式)
  - 强调色: 用于完成状态和重要提示
- **字体**:
  - 使用系统默认字体栈
  - 确保跨平台一致性

### 4.2 布局要求
- **居中布局**: 任务卡片居中显示
- **响应式设计**:
  - 桌面端: 最大宽度 800px,居中显示
  - 移动端适配: 100% 宽度,适当调整间距
- **留白充足**: 避免视觉拥挤

### 4.3 交互设计
- **操作流畅**: 所有交互提供即时反馈
- **动效自然**: 动画时长控制在 200-300ms
- **错误提示**: 友好的错误提示,避免使用技术术语

### 4.4 页面元素
1. **头部区域**:
   - 产品名称 "3Things"
   - 当前日期显示
   - 时间显示(可选)

2. **提示区域**:
   - "今天,专注做好三件事"
   - 今日完成进度提示

3. **任务列表区域**:
   - 任务卡片样式
   - 每个任务包含: 复选框、任务内容、编辑按钮、删除按钮

4. **添加区域**:
   - 输入框
   - 添加按钮
   - 配额提示(如 "还可添加 2 个任务")

5. **底部区域**:
   - 设置入口
   - 日期切换按钮(上一日/下一日)

## 5. 数据结构设计

### 5.1 数据模型

```typescript
interface Task {
  id: string;              // 唯一标识
  content: string;         // 任务内容
  completed: boolean;      // 完成状态
  createdAt: number;       // 创建时间戳
  completedAt?: number;    // 完成时间戳
  date: string;            // 所属日期 (YYYY-MM-DD)
}

interface DayData {
  date: string;            // 日期 (YYYY-MM-DD)
  tasks: Task[];           // 任务列表
}

interface UserSettings {
  theme: 'light' | 'dark'; // 主题
  backgroundColor: string; // 背景色
  animationEnabled: boolean; // 是否开启动画
  motivationEnabled: boolean; // 是否开启鼓励语
}

interface AppData {
  currentDayData: DayData; // 当天数据
  history: Map<string, DayData>; // 历史数据
  settings: UserSettings;  // 用户设置
}
```

### 5.2 数据存储策略
- 使用 `localStorage` 存储所有数据
- 键名: `3things_data`
- 历史数据保留策略:
  - 默认保留最近 90 天
  - 可配置
  - 超过期限的数据自动清理

### 5.3 数据同步(可选,后续版本)
- 考虑使用 Chrome Storage API 实现跨设备同步
- 需要用户显式授权

## 6. 技术栈选择

### 6.1 前端技术
- **框架**: 原生 HTML/CSS/JavaScript (可调整)
- **构建工具**: Vite (用于开发和打包)
- **类型检查**: TypeScript (可选,但推荐)
- **样式方案**:
  - CSS Variables (主题切换)
  - Flexbox/Grid (布局)
  - CSS Animations (动效)

### 6.2 浏览器扩展
- **Manifest 版本**: V3
- **核心 API**:
  - `chrome_url_overrides` (覆盖新标签页)
  - `chrome.storage` (可选,用于同步)
  - `chrome.runtime` (可选,用于设置页面)

### 6.3 开发工具
- **代码规范**: ESLint
- **格式化**: Prettier
- **版本控制**: Git
- **测试**: Vitest (可选)

## 7. 开发计划

### 7.1 MVP (最小可行产品) - 第一版
**包含功能**:
- ✅ 浏览器启动页覆盖
- ✅ 每日最多3个待办事项添加
- ✅ 任务完成标记
- ✅ 任务删除
- ✅ 数据本地存储
- ✅ 基础 UI 布局
- ✅ 日期管理和每日重置

**不包含**:
- ❌ 任务编辑
- ❌ 历史记录查看
- ❌ 数据导出/导入
- ❌ 背景自定义
- ❌ 设置面板

### 7.2 功能完善版 - 第二版
**新增功能**:
- ✅ 任务编辑功能
- ✅ 历史记录查看
- ✅ 进度展示
- ✅ 完成动画和鼓励语
- ✅ 设置面板
- ✅ 主题切换

### 7.3 增强版 - 第三版(未来规划)
**新增功能**:
- ✅ 数据导出/导入
- ✅ 背景自定义
- ✅ 时间显示
- ✅ 问候语
- ✅ 数据统计(周/月完成率)
- ✅ 跨设备同步

## 8. 验收标准

### 8.1 功能验收
- [ ] 安装插件后,新标签页显示 3Things 页面
- [ ] 可以成功添加待办事项
- [ ] 达到3个任务上限后无法继续添加
- [ ] 可以标记任务为完成状态
- [ ] 可以删除任务
- [ ] 删除任务后释放配额
- [ ] 每日0点自动重置配额
- [ ] 数据刷新后不丢失

### 8.2 性能验收
- [ ] 页面加载时间 < 500ms
- [ ] 交互响应流畅无卡顿
- [ ] 内存占用在合理范围内

### 8.3 兼容性验收
- [ ] Chrome 浏览器正常工作
- [ ] Edge 浏览器正常工作
- [ ] 不同分辨率下显示正常

### 8.4 用户体验验收
- [ ] UI 美观简洁
- [ ] 操作直观易懂
- [ ] 错误提示友好
- [ ] 无明显 Bug

## 9. 风险评估

### 9.1 技术风险
- **风险**: LocalStorage 容量限制
- **应对**: 实施历史数据自动清理机制
- **优先级**: 中

### 9.2 产品风险
- **风险**: 用户可能觉得3个任务太少
- **应对**: 在设置页面说明产品理念,不提供修改配额选项
- **优先级**: 高

### 9.3 竞争风险
- **风险**: 市场已有类似产品
- **应对**: 强调"极简"和"强制聚焦"的差异化定位
- **优先级**: 中

## 10. 成功指标

### 10.1 用户留存
- 次日留存率 > 40%
- 7日留存率 > 20%
- 30日留存率 > 10%

### 10.2 使用频率
- 日活跃用户平均每天打开 > 5 次
- 平均每日完成任务数 > 1.5 个

### 10.3 用户满意度
- 应用商店评分 > 4.5/5.0
- 正面评价占比 > 80%

## 11. 后续迭代方向

### 11.1 短期 (3个月内)
- 优化动画效果
- 增加更多主题配色
- 改进移动端体验
- 添加任务优先级标记(高/中/低)

### 11.2 中期 (6个月内)
- 引入任务分类(工作/生活/学习)
- 添加番茄钟功能
- 任务完成统计图表
- 桌面通知提醒

### 11.3 长期 (1年内)
- 跨平台同步
- 团队协作功能
- AI 辅助任务优先级建议
- 移动端 App

---

**文档版本**: v1.0
**创建日期**: 2026-01-06
**最后更新**: 2026-01-06
**文档状态**: 初稿待评审
