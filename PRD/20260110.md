# 2026-01-10 任务清单

## 1. 按钮对齐修复
参照 TodoInput 中"添加"按钮的写法，修复所有其他按钮的对齐问题：

### 参照标准
```tsx
// 图标写法
<Icon className={cn("w-4 h-4", iconAlignClass)} strokeWidth={2} style={iconAlignStyle} />

// 文字写法
<span className={cn("ml-2", getButtonTextClass('sm'))}>按钮文字</span>
```

### 需要修复的按钮列表
- [x] TodoInput.tsx - "添加"按钮（已完成，作为标准）
- [x] App.tsx - "历史记录"按钮
- [x] popup.tsx - "前往添加"按钮
- [x] popup.tsx - "查看详情"按钮
- [x] HistoryModal.tsx - "下载"按钮
- [x] HistoryModal.tsx - "关闭"按钮

## 2. 代码重构任务

### 2.1 创建共享样式常量
- [ ] 在 `src/lib/button-styles.ts` 中创建统一的按钮样式类
- [ ] 提取常用按钮变体：primary, outline, ghost
- [ ] 统一所有组件中的按钮样式使用

### 2.2 组件重构
- [x] TodoList.tsx - 清理代码，使用统一常量
- [x] QuoteDisplay.tsx - 使用统一常量
- [x] App.tsx - 提取子组件，简化逻辑
- [x] popup.tsx - 提取子组件，简化逻辑

### 2.2.1 创建自定义 Hooks
- [x] 创建 `src/hooks/useTodos.ts` - 封装待办事项业务逻辑
- [x] 创建 `src/hooks/useHistory.ts` - 封装历史数据业务逻辑
- [x] App.tsx 使用自定义 Hooks，移除贫血模型
- [x] popup.tsx 使用自定义 Hooks，移除贫血模型

### 2.3 类型定义统一
- [x] 创建 `src/types/index.ts` 统一管理所有类型定义
- [x] Todo 类型
- [x] DayData 类型
- [x] 所有组件的类型引用

### 2.4 数据管理层
- [x] 创建 `src/lib/storage.ts` 统一 localStorage 操作
- [x] 创建 `src/lib/date-utils.ts` 统一日期处理函数

### 2.5 代码清理
- [x] 移除所有未使用的导入
- [ ] 统一注释风格
- [ ] 添加必要的文档注释

## 3. 验证与测试
- [x] 构建项目
- [ ] 检查所有按钮对齐
- [ ] 测试所有功能正常工作
