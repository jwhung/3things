<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç”Ÿæˆ 3Things å›¾æ ‡</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #faf8f5 0%, #f5f2ed 100%);
      margin: 0;
      padding: 20px;
    }

    .icon-container {
      display: flex;
      gap: 40px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 40px;
    }

    .icon-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .icon-label {
      font-size: 14px;
      color: #6b5d54;
      font-weight: 500;
    }

    canvas {
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(197, 184, 168, 0.3);
    }

    .instructions {
      max-width: 600px;
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(197, 184, 168, 0.15);
    }

    h1 {
      color: #6b5d54;
      margin-bottom: 20px;
    }

    ol {
      color: #6b5d54;
      line-height: 1.8;
    }

    code {
      background: #f5f2ed;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Monaco', 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="icon-container">
    <div class="icon-wrapper">
      <canvas id="icon16" width="16" height="16"></canvas>
      <span class="icon-label">16x16</span>
    </div>
    <div class="icon-wrapper">
      <canvas id="icon48" width="48" height="48"></canvas>
      <span class="icon-label">48x48</span>
    </div>
    <div class="icon-wrapper">
      <canvas id="icon128" width="128" height="128"></canvas>
      <span class="icon-label">128x128</span>
    </div>
  </div>

  <div class="instructions">
    <h1>ğŸ¨ å¦‚ä½•ä¿å­˜å›¾æ ‡</h1>
    <ol>
      <li>å³é”®ç‚¹å‡»ä¸Šæ–¹çš„ä»»æ„å›¾æ ‡</li>
      <li>é€‰æ‹©"å›¾ç‰‡å¦å­˜ä¸º..."</li>
      <li>ä¿å­˜ä¸ºå¯¹åº”çš„æ–‡ä»¶å:
        <ul>
          <li><code>icon16.png</code> - 16x16 å›¾æ ‡</li>
          <li><code>icon48.png</code> - 48x48 å›¾æ ‡</li>
          <li><code>icon128.png</code> - 128x128 å›¾æ ‡</li>
        </ul>
      </li>
      <li>å°†ä¿å­˜çš„å›¾æ ‡æ–‡ä»¶æ”¾åˆ° <code>extension/public/icons/</code> ç›®å½•ä¸‹</li>
    </ol>
  </div>

  <script>
    // ç»˜åˆ¶å›¾æ ‡å‡½æ•°
    function drawIcon(canvas) {
      const ctx = canvas.getContext('2d');
      const size = canvas.width;

      // åˆ›å»ºæ¸å˜èƒŒæ™¯
      const gradient = ctx.createLinearGradient(0, 0, size, size);
      gradient.addColorStop(0, '#c9b8a8');
      gradient.addColorStop(0.5, '#b5a092');
      gradient.addColorStop(1, '#9d8977');

      // ç»˜åˆ¶åœ†è§’çŸ©å½¢èƒŒæ™¯
      const radius = size * 0.1875; // 24px for 128px, proportional for others
      ctx.beginPath();
      ctx.moveTo(radius, 0);
      ctx.lineTo(size - radius, 0);
      ctx.quadraticCurveTo(size, 0, size, radius);
      ctx.lineTo(size, size - radius);
      ctx.quadraticCurveTo(size, size, size - radius, size);
      ctx.lineTo(radius, size);
      ctx.quadraticCurveTo(0, size, 0, size - radius);
      ctx.lineTo(0, radius);
      ctx.quadraticCurveTo(0, 0, radius, 0);
      ctx.closePath();

      ctx.fillStyle = gradient;
      ctx.fill();

      // ç»˜åˆ¶æ•°å­— "3"
      ctx.fillStyle = 'white';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';

      // æ ¹æ®å¤§å°è°ƒæ•´å­—ä½“
      const fontSize = size * 0.5625; // 72px for 128px
      ctx.font = `bold ${fontSize}px -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;

      // å¾®è°ƒä½ç½®
      ctx.fillText('3', size / 2, size / 2 + size * 0.02);
    }

    // ç»˜åˆ¶æ‰€æœ‰å›¾æ ‡
    ['icon16', 'icon48', 'icon128'].forEach(id => {
      const canvas = document.getElementById(id);
      drawIcon(canvas);
    });

    // è‡ªåŠ¨ä¸‹è½½åŠŸèƒ½ (å¯é€‰)
    function downloadIcon(canvas, filename) {
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // ä¸ºæ¯ä¸ªå›¾æ ‡æ·»åŠ ç‚¹å‡»ä¸‹è½½åŠŸèƒ½
    document.querySelectorAll('canvas').forEach(canvas => {
      canvas.style.cursor = 'pointer';
      canvas.title = 'ç‚¹å‡»ä¸‹è½½æ­¤å›¾æ ‡';
      canvas.addEventListener('click', () => {
        const filename = canvas.id + '.png';
        downloadIcon(canvas, filename);
      });
    });
  </script>
</body>
</html>
